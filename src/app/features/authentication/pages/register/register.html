<div class="pt-10 px-10">
    <div class="flex flex-col gap-3">
        <h1 class="text-3xl font-semibold">Sign up</h1>
        <!-- TODO: set color -->
        <p>Welcome! Please enter your details.</p>
    </div>
    <div class="w-full mt-10 max-w-[500px]">
        <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="flex flex-col gap-3">
            <!-- Name -->
            <div class="field">
                <label for="name">Name</label>
                <input id="name" type="text" pInputText formControlName="name" placeholder="Enter your name"
                    class="w-full" />
                @if (registerForm.get('name')?.touched && registerForm.get('name')?.invalid) {
                <small class="text-red-500">
                    {{ registerForm.get('name')?.hasError('required') ? 'Name is required' : 'Invalid name' }}
                </small>
                }
            </div>

            <!-- Email -->
            <div class="field">
                <label for="email">Email</label>
                <input id="email" type="email" pInputText formControlName="email" placeholder="Enter your email"
                    class="w-full" />
                @if (registerForm.get('email')?.touched && registerForm.get('email')?.invalid) {
                <small class="text-red-500">
                    {{ registerForm.get('email')?.hasError('required') ? 'Email is required' : 'Invalid email format' }}
                </small>
                }
            </div>

            <div class="field">
                <ngx-intl-tel-input class="w-full" [cssClass]="'p-inputtext w-full'" [preferredCountries]="['sa']"
                    [enableAutoCountrySelect]="true" [enablePlaceholder]="true" [searchCountryFlag]="true"
                    [separateDialCode]="true" required
                    [searchCountryField]="[searchCountryField.DialCode, searchCountryField.Name]" [maxLength]="15"
                    name="phone" formControlName="phone">
                </ngx-intl-tel-input>
                @if(registerForm.get('phone')?.invalid && (registerForm.get('phone')?.touched)) {
                <div class="text-red-500 text-sm">
                    @if(registerForm.get('phone')?.errors?.['required']) {
                    <small class="text-red-500">Phone number is required.</small>
                    }@else if(registerForm.get('phone')?.errors?.['validatePhoneNumber']) {
                    <small class="text-red-500">Invalid phone number format.</small>
                    }
                </div>
                }
            </div>

            <!-- Password -->
            <div class="field">
                <app-password-policy [controlName]="'password'"></app-password-policy>
            </div>

            <!-- Submit -->
            <button pButton type="submit" label="Get started" class="w-full" [disabled]="registerForm.invalid"></button>
            <div class="flex justify-center items-center">
                <p>Already have an account?</p>
                <!-- TODO: set link -->
                <p-button label="Log in" link routerLink="/auth/login" />
            </div>
        </form>
    </div>

</div>