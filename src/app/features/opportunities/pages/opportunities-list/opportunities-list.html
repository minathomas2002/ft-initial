<div class="opportunities-list-container p-6 md:p-8">
  <!-- Header Section -->
  <div class="mb-6">
    <h1 class="text-3xl font-semibold text-gray-900 mb-2">Opportunities</h1>
    <p class="text-gray-600 text-base">Browse all available plans and view their details</p>
  </div>

  <!-- Search Input -->
  <div class="mb-6 max-w-[600px]">
    <p-iconfield>
      <p-inputicon inputId="opportunities-search" class="icon-search" />
      <input type="text" pInputText class="w-full" placeholder="Search" [(value)]="filter().searchText"
        (input)="onSearchChange($any($event.target).value)" fluid />
    </p-iconfield>
  </div>

  <!-- Opportunities Grid -->
  <app-cards-skeleton [isLoading]="opportunitiesStore.loading()">
    <div class="opportunities-grid mb-6">
      @for (opportunity of rows(); track opportunity.id) {
      <p-card class="opportunity-card">
        <ng-template pTemplate="content">
          <div class="opportunity-card__body">
            <!-- Card Icon -->
            <div class="opportunity-card__icon">
              <i [class]="'icon-message-circle' + ' text-2xl'"></i>
            </div>

            <!-- Card Content -->
            <div class="opportunity-card__content">
              <h3 class="opportunity-card__title line-clamp-2">{{ opportunity.title }}</h3>
              <p class="opportunity-card__description">{{ opportunity.shortDescription }}</p>
            </div>

            <!-- Card Actions -->
            <div class="opportunity-card__actions">
              <p-button label="View Details" severity="secondary" [outlined]="true"
                (onClick)="onViewDetails(opportunity)" class="flex-1" fluid />
              <p-button label="Apply" severity="primary" (onClick)="onApply(opportunity)" class="flex-1" fluid />
            </div>
          </div>
        </ng-template>
      </p-card>
      }
      @empty {
      <div class="col-span-full text-center py-12">
        <p class="text-gray-500 text-lg">No opportunities found</p>
      </div>
      }
    </div>
  </app-cards-skeleton>

  <!-- Pagination -->
  @if (totalRecords() > 0) {
  <app-paginator [(filter)]="filter" [totalRecords]="totalRecords()" />
  }
</div>