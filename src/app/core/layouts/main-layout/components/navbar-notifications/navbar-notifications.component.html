<div (click)="op.toggle($event)">
  <p-overlaybadge
    styleClass="!p-0 !rounded-full !text-[10px]"
    [value]="unreadCount()"
  >
    <i class="icon-bell !text-gray-400 !text-2xl cursor-pointer"> </i>
  </p-overlaybadge>
</div>

<p-popover #op class="custom-popover" (onShow)="loadNotifications()">
  <div class="flex flex-col">
    <div class="flex justify-between py-[16px] px-[24px]">
      <div class="flex justify-between items-center w-full">
        <p class="font-semibold">Notifications</p>
        <a class="flex items-center gap-2 text-blue-800 cursor-pointer">
          <svg
            width="15"
            height="8"
            viewBox="0 0 15 8"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M9.75 0.75L3.75 6.75L0.75 3.75M13.75 0.75L7.75 6.75L5.75 4.75"
              stroke="#4767A5"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
          </svg>
          Mark all as read
        </a>
      </div>
      <span class="text-gray-400 text-xl cursor-pointer" (click)="op.toggle($event)"
        ><i class="icon-close"></i
      ></span>
    </div>
    <div
      class="max-h-[500px] !max-w-[35rem] md:min-w-[35rem] overflow-auto border-t border-gray-200"
    >
      <app-navbar-notifications-tabs
        [notifications]="notifications()"
        [loading]="isLoading()"
        (notificationClick)="onNotificationClick(op)"
      ></app-navbar-notifications-tabs>
    </div>
    <div class="border-t border-gray-200 px-[24px] py-4">
      <div class="flex justify-center">
        <span
          class="text-primary cursor-pointer font-medium text-sm"
          [routerLink]="['/', ERoutes.dashboard]"
          (click)="op.hide()"
          >View All</span
        >
      </div>
    </div>
  </div>
</p-popover>
