<app-base-dialog
  [(visible)]="visible"
  [icon]="icon()"
  [dialogTitle]="title()"
  [confirmLabel]="confirmationLabel()"
  [cancelLabel]="cancelLabel()"
  [showCloseButton]="true"
  (onConfirm)="onConfirm()"
  [isLoading]="isLoading()"
  (onCancel)="onCancelClick()"
  [isConfirmationDisabled]="isRequired() && !note().trim()"
>
  <div class="max-w-[25rem]">
    <div class="mt-4">
      <label class="block text-sm font-medium text-gray-700 mb-2">
        {{ label() }}
        @if (isRequired()) {
        <span class="text-red-500">*</span>
        }
      </label>
      <textarea
        pTextarea
        [(ngModel)]="note"
        [placeholder]="placeholder()"
        [maxlength]="maxLength()"
        rows="4"
        class="w-full"
        [class.ng-invalid]="isRequired() && !note().trim()"
      ></textarea>
      <div class="mt-1 text-xs text-gray-500">
        {{ note().length }} / {{ maxLength() }} characters
      </div>
    </div>
  </div>
</app-base-dialog>