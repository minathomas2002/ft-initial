<app-timeline [events]="events()">
  <ng-template
    #timelineTemplate
    let-item="item"
  >
    <!-- status and date -->
    <div class="flex justify-between items-start">

      <!-- Status -->
      <span class="text-xs font-medium px-3 py-1 rounded-full {{
                getStatusBadgeClass(item.item.status)
              }}">
        {{ getStatusLabel(item.item.status) }}
      </span>

      <!-- Date & Days -->
      <div class="">
        <div class="flex items-center justify-end text-xs text-gray-700 whitespace-nowrap">
          <i class="icon-clock text-gray-400"></i>
          <span>
            {{ item.item.timestamp | date:'EEEE, MMMM d â€¢ h:mm a' }}
          </span>
        </div>

        @if (item.item.daysAfterPreviousAction) {
        <p class="text-xs text-gray-400 mt-1">
          {{ item.item.daysAfterPreviousAction }}
          {{ 'timeline.remaningDays' | translate }}
        </p>
        }
      </div>
    </div>

    <!-- user card -->
    <div class="mt-4 bg-white mb-2 py-2">
      <app-identify-user
        [userAvatar]="item.item.profilePicURL"
        [userName]="item.item.actionByNameEn"
        [userRole]="getUserTranslatedRole(item.item.actorRole)"
      >
      </app-identify-user>
    </div>

    <!-- Action -->
    <div>
      <p class="text-sm text-gray-600">
        {{ 'timeline.action' | translate }}
      </p>
      <span class="text-sm font-medium text-gray-900">
        {{ getUserTranslatedAction(item.item) }}
      </span>
    </div>

    @if (item.item.comments?.length > 0) {
    <p-divider></p-divider>
    }

  </ng-template>
</app-timeline>