@if (!planStore.isLoading()) {
<app-base-wizard-dialog
  [(visible)]="visibility"
  [(activeStep)]="activeStep"
  [steps]="steps()"
  [wizardTitle]="wizardTitle()"
  (onNextStep)="nextStep()"
  (onPreviousStep)="previousStep()"
  (onSaveAsDraft)="saveAsDraft()"
  [isLoading]="isLoading() || isLoadingPlan()"
  [isProcessing]="isProcessing()"
  [hideSaveAsDraft]="isViewMode()"
  (onClose)="onClose()"
>
  @if (shouldShowStatusTag()) {
  <ng-container ngProjectAs="status">
    <app-base-tag [value]="statusLabel()" [styleClass]="statusBadgeClass()" />
  </ng-container>
  }

  <ng-template [appStepContent]="1">
    <app-service-localization-step-cover-page></app-service-localization-step-cover-page>
    <!-- <app-plan-localization-step-01-overview-company-information-form /> -->
  </ng-template>

  <ng-template [appStepContent]="2">
    <app-service-localization-step-overview></app-service-localization-step-overview>
    <!-- <app-plan-localization-step-02-product-plant-overview-form /> -->
  </ng-template>

  <ng-template [appStepContent]="3">
    <app-service-localization-step-direct-localization></app-service-localization-step-direct-localization>
  </ng-template>

  <ng-template [appStepContent]="4">
    <app-service-localization-step-existing-saudi></app-service-localization-step-existing-saudi>
    <!-- <app-plan-localization-step-04-saudization-form [isViewMode]="isViewMode()" /> -->
  </ng-template>

  <ng-template [appStepContent]="5">
    <app-service-localization-step-summary
      [isViewMode]="isViewMode()"
      #summaryComponent
      (onEditStep)="navigateToStep($event)"
      (onValidationErrorsChange)="updateValidationErrors($event)"
    ></app-service-localization-step-summary>
    <!-- <app-plan-localization-step-05-summary
    [isViewMode]="isViewMode()"
    #summaryComponent
    (onEditStep)="navigateToStep($event)"
    (onValidationErrorsChange)="updateValidationErrors($event)"
  /> -->
  </ng-template>
</app-base-wizard-dialog>
}
