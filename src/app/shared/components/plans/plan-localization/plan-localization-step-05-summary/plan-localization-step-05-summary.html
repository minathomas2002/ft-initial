<div class="flex flex-col gap-8 pb-10">
  <!-- Step 1: Overview & Company Information -->
  <app-summary-section-overview
    [isViewMode]="isViewMode()"
    [formGroup]="step1FormGroup"
    [pageComments]="step1CommentsComputed()"
    [commentTitle]="commentTitle()"
    [correctedFieldIds]="step1CorrectedFields()"
    (onEdit)="onEditStepClick(1)"
  />
  @if (isViewMode() && step1CommentsComputed().length > 0) {
  <app-page-comment-box
    [commentTitle]="commentTitle() + ' - Overview & Company Information'"
    [commentText]="getStep1CommentText()"
  />
  }

  <!-- Step 2: Product & Plant Overview -->
  <app-summary-section-product-plant
    [isViewMode]="isViewMode()"
    [formGroup]="step2FormGroup"
    [pageComments]="step2CommentsComputed()"
    [commentTitle]="commentTitle()"
    [correctedFieldIds]="step2CorrectedFields()"
    (onEdit)="onEditStepClick(2)"
  />
  @if (isViewMode() && step2CommentsComputed().length > 0) {
  <app-page-comment-box
    [commentTitle]="commentTitle() + ' - Product & Plant Overview'"
    [commentText]="getStep2CommentText()"
  />
  }

  <!-- Step 3: Value Chain -->
  <app-summary-section-value-chain
    [isViewMode]="isViewMode()"
    [formGroup]="step3FormGroup"
    [pageComments]="step3CommentsComputed()"
    [commentTitle]="commentTitle()"
    [correctedFieldIds]="step3CorrectedFields()"
    (onEdit)="onEditStepClick(3)"
  />
  @if (isViewMode() && step3CommentsComputed().length > 0) {
  <app-page-comment-box
    [commentTitle]="commentTitle() + ' - Value Chain'"
    [commentText]="getStep3CommentText()"
  />
  }

  <!-- Step 4: Saudization -->
  <app-summary-section-saudization
    [isViewMode]="isViewMode()"
    [formGroup]="step4FormGroup"
    [pageComments]="step4CommentsComputed()"
    [commentTitle]="commentTitle()"
    [correctedFieldIds]="step4CorrectedFields()"
    (onEdit)="onEditStepClick(4)"
  />
  @if (isViewMode() && step4CommentsComputed().length > 0) {
  <app-page-comment-box
    [commentTitle]="commentTitle() + ' - Saudization'"
    [commentText]="getStep4CommentText()"
  />
  }

  <!-- Signature (view/edit modes) -->
  @if (signature() && isViewMode()) {
  <app-summary-section-signature [signature]="signature()" />
  }
</div>