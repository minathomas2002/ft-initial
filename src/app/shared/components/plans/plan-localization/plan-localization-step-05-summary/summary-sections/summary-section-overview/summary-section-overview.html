<div class="flex flex-col gap-6 bg-white">
  <!-- Basic Information -->
  <div class="flex flex-col gap-4">
    <app-summary-section-header
      [title]="'Overview & Company Information'"
      [isViewMode]="isViewMode()"
      (onEdit)="onEditClick()"
    />
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <app-summary-field
        [label]="'plans.newPlan.planTitle' | translate"
        [value]="planTitle()"
        [beforeValue]="getBeforeValue('planTitle')"
        [afterValue]="planTitle()"
        [showDiff]="shouldShowDiff('planTitle')"
        [hasError]="hasFieldError('basicInformationFormGroup.planTitle.value')"
        [hasComment]="planTitleHasComment()"
        [isEmpty]="!planTitle()"
      />
      <app-summary-field
        [label]="'plans.newPlan.opportunityType' | translate"
        [value]="opportunityType()"
        [isEmpty]="!opportunityType()"
      />
      <app-summary-field
        [label]="'plans.newPlan.opportunity' | translate"
        [value]="opportunity()"
        [hasError]="hasFieldError('basicInformationFormGroup.opportunity')"
        [isEmpty]="!opportunity()"
      />
      <app-summary-field
        [label]="'Submission Date'"
        [value]="submissionDate()"
        [isEmpty]="!submissionDate()"
      />
    </div>
  </div>

  <!-- Company Information -->
  <div class="flex flex-col gap-4">
    <h3 class="text-lg font-semibold text-gray-900">Company Information</h3>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <app-summary-field
        class="col-span-2"
        [label]="'Company Name'"
        [value]="companyName()"
        [beforeValue]="getBeforeValue('companyName')"
        [afterValue]="companyName()"
        [showDiff]="shouldShowDiff('companyName')"
        [hasError]="hasFieldError('companyInformationFormGroup.companyName.value')"
        [hasComment]="companyNameHasComment()"
        [isEmpty]="!companyName()"
      />
      <app-summary-field
        [label]="'CEO Name'"
        [value]="ceoName()"
        [beforeValue]="getBeforeValue('ceoName')"
        [afterValue]="ceoName()"
        [showDiff]="shouldShowDiff('ceoName')"
        [hasError]="hasFieldError('companyInformationFormGroup.ceoName.value')"
        [hasComment]="ceoNameHasComment()"
        [isEmpty]="!ceoName()"
      />
      <app-summary-field
        [label]="'CEO Email ID'"
        [value]="ceoEmailID()"
        [beforeValue]="getBeforeValue('ceoEmailID')"
        [afterValue]="ceoEmailID()"
        [showDiff]="shouldShowDiff('ceoEmailID')"
        [hasError]="hasFieldError('companyInformationFormGroup.ceoEmailID.value')"
        [hasComment]="ceoEmailIDHasComment()"
        [isEmpty]="!ceoEmailID()"
      />
    </div>
  </div>

  <!-- Location Information -->
  <div class="flex flex-col gap-4">
    <h3 class="text-lg font-semibold text-gray-900">Location Information</h3>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <app-summary-field
        [label]="'Global HQ Location'"
        [value]="globalHQLocation()"
        [beforeValue]="getBeforeValue('globalHQLocation')"
        [afterValue]="globalHQLocation()"
        [showDiff]="shouldShowDiff('globalHQLocation')"
        [hasError]="hasFieldError('locationInformationFormGroup.globalHQLocation.value')"
        [hasComment]="globalHQLocationHasComment()"
        [isEmpty]="!globalHQLocation()"
      />
      <app-summary-field
        [label]="'Registered Vendor ID with SEC (if available)'"
        [value]="registeredVendorID()"
        [beforeValue]="getBeforeValue('registeredVendorIDwithSEC')"
        [afterValue]="registeredVendorID()"
        [showDiff]="shouldShowDiff('registeredVendorIDwithSEC')"
        [hasError]="hasFieldError('locationInformationFormGroup.registeredVendorIDwithSEC.value')"
        [hasComment]="registeredVendorIDHasComment()"
        [isEmpty]="!registeredVendorID()"
      />
      <app-summary-field
        [label]="'Do you currently have local Agent in KSA?'"
        [value]="hasLocalAgent()"
        [beforeValue]="getBeforeValue('doYouCurrentlyHaveLocalAgentInKSA')"
        [afterValue]="hasLocalAgent()"
        [showDiff]="shouldShowDiff('doYouCurrentlyHaveLocalAgentInKSA')"
        [isBoolean]="true"
        [hasError]="hasFieldError('locationInformationFormGroup.doYouCurrentlyHaveLocalAgentInKSA')"
        [hasComment]="hasLocalAgentHasComment()"
        [isEmpty]="hasLocalAgent() === null"
      />
    </div>

    @if (hasLocalAgent() === true) {
    <div class="flex flex-col gap-4">
      <h4 class="text-lg font-semibold text-gray-700">Local Agent Information</h4>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <app-summary-field
          [label]="'Contact Person Name'"
          [value]="contactPersonName()"
          [beforeValue]="getBeforeValue('contactPersonName')"
          [afterValue]="contactPersonName()"
          [showDiff]="shouldShowDiff('contactPersonName')"
          [hasError]="hasFieldError('localAgentInformationFormGroup.contactPersonName.value')"
          [hasComment]="contactPersonNameHasComment()"
          [isEmpty]="!contactPersonName()"
        />

        <app-summary-field
          [label]="'Local Agent Name'"
          [value]="localAgentName()"
          [beforeValue]="getBeforeValue('localAgentName')"
          [afterValue]="localAgentName()"
          [showDiff]="shouldShowDiff('localAgentName')"
          [hasError]="hasFieldError('localAgentInformationFormGroup.localAgentName.value')"
          [hasComment]="localAgentNameHasComment()"
          [isEmpty]="!localAgentName()"
        />

        <app-summary-field
          [label]="'Email ID'"
          [value]="emailID()"
          [beforeValue]="getBeforeValue('emailID')"
          [afterValue]="emailID()"
          [showDiff]="shouldShowDiff('emailID')"
          [hasError]="hasFieldError('localAgentInformationFormGroup.emailID.value')"
          [hasComment]="emailIDHasComment()"
          [isEmpty]="!emailID()"
        />
        <app-summary-field
          [label]="'Contact Number'"
          [value]="contactNumber()"
          [beforeValue]="getBeforeValue('contactNumber')"
          [afterValue]="contactNumber()"
          [showDiff]="shouldShowDiff('contactNumber')"
          [hasError]="hasFieldError('localAgentInformationFormGroup.contactNumber.value')"
          [hasComment]="contactNumberHasComment()"
          [isEmpty]="!contactNumber()"
        />
        <app-summary-field
          [label]="'Company HQ Location'"
          [value]="companyHQLocation()"
          [beforeValue]="getBeforeValue('companyHQLocation')"
          [afterValue]="companyHQLocation()"
          [showDiff]="shouldShowDiff('companyHQLocation')"
          [hasError]="hasFieldError('localAgentInformationFormGroup.companyHQLocation.value')"
          [hasComment]="companyHQLocationHasComment()"
          [isEmpty]="!companyHQLocation()"
        />
      </div>
    </div>
    }
  </div>
</div>