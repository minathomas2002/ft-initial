<div class="flex flex-col gap-[32px] pb-10">
  <!-- Saudization Projection Matrix Section -->
  <div class="flex flex-col gap-4">
    <h2 class="text-lg font-semibold text-gray-900">Saudization</h2>

    <app-saudization-matrix
      [getValueControl]="getValueControl"
      [getHasCommentControl]="getHasCommentControl"
      [getRowControl]="getRowControl"
      [showCheckbox]="showCheckbox()"
    />
  </div>

  @if((isViewMode() && files().length > 0) || !isViewMode()) {
  <!-- Attachments Section -->
  <div class="flex flex-col gap-4">
    <h2 class="text-lg font-semibold text-gray-900">Attachments (Optional)</h2>

    <app-group-input-with-checkbox
      [hasCommentControl]="getHasCommentControl(getAttachmentsFormGroup().get(EMaterialsFormControls.attachments)!)"
      [showCheckbox]="showCheckbox()"
    >
      <app-fileupload
        [isViewMode]="isViewMode()"
        [acceptedFileTypes]="'.pdf, .png, .jpg, .jpeg, .zip, .rar'"
        [(files)]="files"
        class="w-full"
        [placeholder]="'You can upload any file type (images, documents).'"
        [multiple]="true"
      />
    </app-group-input-with-checkbox>
    <app-base-error-messages
      [control]="getValueControl(getAttachmentsFormGroup().get(EMaterialsFormControls.attachments)!)"
      [label]="'Attachments'"
    />
  </div>
  }
</div>